<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[LXC Containers] Play with LXD Container Hypervisor - My Personal Ngoprek Problems &gt;_</title>
<meta name="description" content="Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ… Linux Container Hypervisor (LXD dibaca lex-dee)">


  <meta name="author" content=">_">
  
  <meta property="article:author" content=">_">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="My Personal Ngoprek Problems >_">
<meta property="og:title" content="[LXC Containers] Play with LXD Container Hypervisor">
<meta property="og:url" content="http://0.0.0.0:4000/ngoprek/server/cloud/lxc/container/lxd-containers-hypervisor/">


  <meta property="og:description" content="Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ… Linux Container Hypervisor (LXD dibaca lex-dee)">







  <meta property="article:published_time" content="2020-02-19T00:00:00+07:00">






<link rel="canonical" href="http://0.0.0.0:4000/ngoprek/server/cloud/lxc/container/lxd-containers-hypervisor/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "http://0.0.0.0:4000/"
    
  }
</script>


  <meta name="google-site-verification" content="zKB-7_EmphHj7Wpc-lRmu7BjIVPWRvMJkoqWQQBSjEI" />





<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="My Personal Ngoprek Problems >_ Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          My Personal Ngoprek Problems >_
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/">ğŸ¯ Home</a>
            </li><li class="masthead__menu-item">
              <a href="/posts/">ğŸ¦´ Blog</a>
            </li><li class="masthead__menu-item">
              <a href="">ğŸ“ Note APP</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">ğŸ“š Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">ğŸ‘¨ About</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/bio-photo.jpg" alt=">_" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">>_</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>â€œMy name is Ammar and this is my personal blog, documenting my journey on the quest to become the best person I can be.â€<br /></p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="https://www.ammarun.my.id" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://twitter.com/ammarun" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://github.com/ammarun11" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://instagram.com/nopallll" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="[LXC Containers] Play with LXD Container Hypervisor">
    <meta itemprop="description" content="Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Linux Container Hypervisor (LXD dibaca lex-dee)">
    <meta itemprop="datePublished" content="2020-02-19T00:00:00+07:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">[LXC Containers] Play with LXD Container Hypervisor
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <h1 id="Ø¨ÙØ³Ù’Ù…Ù-Ø§Ù„Ù„ÙÙ‘Ù‡Ù-Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ†Ù-Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…</h1>
<h2 id="linux-container-hypervisor-lxd-dibaca-lex-dee">Linux Container Hypervisor (LXD dibaca lex-dee)</h2>

<p>Proyek LXD didirikan dan saat ini dipimpin oleh Canonical Ltd dengan kontribusi dari berbagai perusahaan lain dan kontributor individu.</p>

<p>LXD merupakan management sistem container yang lebih user experience. LXD menawarkan penggunakaan mirip dengan teknologi virtual machine tetapi menggunakan Linux container sebagai gantinya.</p>

<p>Sebelumnya kita sudah membahas LXC, nah si LXD ini murapakan next level nya dari LXC yang dimana dengan LXD lebih mudah memanagement container dan di design berbasiskan daemon dan berkomunikasi melalui REST API.</p>

<p>Jika LXC menggunakan sebuah template untuk memabangin containernya berbeda dengan LXD yang menggunakan image dan ukuran nya lebih kecil di bandingkan template yang dimiliki LXC.</p>

<p>Some of the biggest features of LXD are:</p>

<ul>
  <li>Secure by design (unprivileged containers, resource restrictions and much more)</li>
  <li>Scalable (from containers on your laptop to thousand of compute nodes)</li>
  <li>Intuitive (simple, clear API and crisp command line experience)</li>
  <li>Image based (with a wide variety of Linux distributions published daily)</li>
  <li>Support for Cross-host container and image transfer (including live migration with CRIU)</li>
  <li>Advanced resource control (cpu, memory, network I/O, block I/O, disk usage and kernel resources)</li>
  <li>Device passthrough (USB, GPU, unix character and block devices, NICs, disks and paths)</li>
  <li>Network management (bridge creation and configuration, cross-host tunnels, â€¦)</li>
  <li>Storage management (support for multiple storage backends, storage pools and storage volumes)</li>
</ul>

<h3 id="instalasi-lxc">Instalasi LXC</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>add-apt-repository ppa:ubuntu-lxc/lxd-stable
<span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get <span class="nb">install </span>lxd <span class="nt">-y</span> 
</code></pre></div></div>

<p>Aktifkan Services nya dengan systemctl</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo systemctl enable lxd
sudo systemctl start lxd
sudo systemctl status lxd
</code></pre></div></div>

<h3 id="create-group-lxd-for-user-without-premission-sudo">Create group lxd for user *without premission sudo</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>getent group lxd
sudo gpasswd -a usermu lxd
getent group lxd 
groups
</code></pre></div></div>
<h3 id="inisialisasi">Inisialisasi</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxd init
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ubuntu@server:~$ lxd init
Would you like to use LXD clustering? (yes/no) [default=no]: 
Do you want to configure a new storage pool? (yes/no) [default=yes]: 
Name of the new storage pool [default=default]: 
Name of the storage backend to use (btrfs, dir, lvm) [default=btrfs]: dir
Would you like to connect to a MAAS server? (yes/no) [default=no]: 
Would you like to create a new local network bridge? (yes/no) [default=yes]: 
What should the new bridge be called? [default=lxdbr0]: 
What IPv4 address should be used? (CIDR subnet notation, â€œautoâ€ or â€œnoneâ€) [default=auto]: 
What IPv6 address should be used? (CIDR subnet notation, â€œautoâ€ or â€œnoneâ€) [default=auto]: 
Would you like LXD to be available over the network? (yes/no) [default=no]: 
Would you like stale cached images to be updated automatically? (yes/no) [default=yes] 
Would you like a YAML "lxd init" preseed to be printed? (yes/no) [default=no]:
</code></pre></div></div>

<h3 id="cek-versi">Cek versi</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc version
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ubuntu@server:~$ lxc version 
Client version: 3.0.3
Server version: 3.0.3
</code></pre></div></div>

<h3 id="cek-repository-registry-container-lxc--images">Cek repository registry container LXC &amp; Images</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc remote list
lxc image list 
lxc image list images: (List images on LXC)
</code></pre></div></div>

<h3 id="spesific">Spesific</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc image list images:centos
</code></pre></div></div>

<h3 id="create-container--delete">Create container &amp; delete</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc launch ubuntu:18.04 namacontainer
lxc list
lxc stop namacontainer
lxc start namacontainer
lxc delete namacontainer --force (Menghapus secara paksa )
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ubuntu@server:~$ lxc list
+--------------+---------+-----------------------+----------------------------------------------+------------+-----------+
|     NAME     |  STATE  |         IPV4          |                     IPV6                     |    TYPE    | SNAPSHOTS |
+--------------+---------+-----------------------+----------------------------------------------+------------+-----------+
| konteubuntu2 | RUNNING | 10.135.190.157 (eth0) | fd42:5b2:d003:1fd4:216:3eff:fe2c:b4d8 (eth0) | PERSISTENT | 0         |
+--------------+---------+-----------------------+----------------------------------------------+------------+-----------+
| mykonte      | RUNNING |                       | fd42:5b2:d003:1fd4:216:3eff:fe84:394 (eth0)  | PERSISTENT | 0         |
+--------------+---------+-----------------------+----------------------------------------------+------------+-----------+
</code></pre></div></div>

<h3 id="move-container-to-other-host">Move container to other host</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc stop namacontainer
lxc move namacontainer mykonte
lxc start mykonte
</code></pre></div></div>

<h3 id="login-to-container">Login to container</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc exec namacontainer bash
free -m
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ubuntu@server:~$ lxc exec konteubuntu2 bash
root@konteubuntu2:~# free -m
              total        used        free      shared  buff/cache   available
Mem:           1993          34        1771           0         187        1959
Swap:             0           0           0
root@konteubuntu2:~# 
</code></pre></div></div>

<h3 id="login-container-as-a-user">Login container as a user</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc exec namacontainer su - ubuntu
</code></pre></div></div>
<h3 id="ping-another-container">Ping another container</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ping mykonte
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@konteubuntu2:~# ping -c 3 mykonte
PING mykonte(mykonte.lxd (fd42:5b2:d003:1fd4:216:3eff:fe84:394)) 56 data bytes
64 bytes from mykonte.lxd (fd42:5b2:d003:1fd4:216:3eff:fe84:394): icmp_seq=1 ttl=64 time=0.054 ms
64 bytes from mykonte.lxd (fd42:5b2:d003:1fd4:216:3eff:fe84:394): icmp_seq=2 ttl=64 time=0.110 ms
64 bytes from mykonte.lxd (fd42:5b2:d003:1fd4:216:3eff:fe84:394): icmp_seq=3 ttl=64 time=0.126 ms

--- mykonte ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2004ms
rtt min/avg/max/mdev = 0.054/0.096/0.126/0.032 ms
</code></pre></div></div>

<h3 id="cek-kernel-container-akan-memakai-kernel-dari-host">Cek kernel, container akan memakai kernel dari Host</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>uname -r 
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ubuntu@server:~$ uname -r
4.15.0-88-generic
ubuntu@server:~$ lxc exec konteubuntu2 bash 
root@konteubuntu2:~# uname -r
4.15.0-88-generic
</code></pre></div></div>

<h3 id="cek-config-on-container">Cek config on container</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc config show namacontainer
lxc info namacontainer
</code></pre></div></div>

<h3 id="cek-pid">Cek pid</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pstree -p PIDContainermu
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ubuntu@server:~$ lxc info konteubuntu2 | grep Pid
Pid: 3009
ubuntu@server:~$ pstree -p 3009
systemd(3009)â”€â”¬â”€accounts-daemon(3369)â”€â”¬â”€{accounts-daemon}(3379)
              â”‚                       â””â”€{accounts-daemon}(3401)
              â”œâ”€agetty(3425)
              â”œâ”€atd(3404)
              â”œâ”€cron(3372)
              â”œâ”€dbus-daemon(3377)
              â”œâ”€networkd-dispat(3376)â”€â”€â”€{networkd-dispat}(3517)
              â”œâ”€polkitd(3426)â”€â”¬â”€{polkitd}(3431)
              â”‚               â””â”€{polkitd}(3433)
              â”œâ”€rsyslogd(3375)â”€â”¬â”€{rsyslogd}(3392)
              â”‚                â””â”€{rsyslogd}(3393)
              â”œâ”€sshd(3427)
              â”œâ”€systemd-journal(3108)
              â”œâ”€systemd-logind(3374)
              â”œâ”€systemd-network(3275)
              â”œâ”€systemd-resolve(3294)
              â”œâ”€systemd-udevd(3110)
              â””â”€unattended-upgr(3445)â”€â”€â”€{unattended-upgr}(3549)
</code></pre></div></div>

<h3 id="cek--createedit--using-profile">Cek &amp; create,Edit &amp; using Profile</h3>
<p>Nah di penguaan container ini kita bisa meng custom profile untuk setiap containernya, fungsi dari profile tersebut yaitu berisikan config atau seperti profile policy untuk container.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc profile list
lxc profile show default
lxc profile copy default custom
lxc profile edit custom
</code></pre></div></div>

<p>Edit di bagian line config : {}</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>config:
  limits.memory: 512MB
</code></pre></div></div>

<h3 id="perbedaan">Perbedaan</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ubuntu@server:~$ lxc profile show default 
config: {}
description: Default LXD profile
devices:
  eth0:
    name: eth0
    nictype: bridged
    parent: contebr0
    type: nic
  root:
    path: /
    pool: palo
    type: disk
name: default
used_by:
- /1.0/containers/mykonte
- /1.0/containers/konteubuntu2
</code></pre></div></div>

<p>Profile yang telah di edit, disini kita limit memory container yang menggunakan profile custom hanya bisa mengunakan memory 512MB</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ubuntu@server:~$ lxc profile show custom 
config:
  limits.memory: 512MB
description: Default LXD profile
devices:
  eth0:
    name: eth0
    nictype: bridged
    parent: contebr0
    type: nic
  root:
    path: /
    pool: palo
    type: disk
name: custom
used_by: []
</code></pre></div></div>

<p>Tested kita create container baru dengan profile custom</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc launch ubuntu:18.04 mykonte2 --profile custom
lxc exec mykonte2 bash
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ubuntu@server:~$ lxc exec mykonte2 bash
root@mykonte2:~# free -m
              total        used        free      shared  buff/cache   available
Mem:            488          37         333           0         117         451
Swap:             0           0           0
root@mykonte2:~# 
</code></pre></div></div>
<blockquote>
  <p>terlihat penggunakan totaly memory dari container hanya sampai 512MB</p>
</blockquote>

<h3 id="set-limit-container-langsung">Set limit Container langsung</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc config set mykonte limits.memory 512MB
lxc config set mykonte limits.cpu 1
lxc config set mykonte boot.autostart 1
lxc config show | less
</code></pre></div></div>

<h3 id="file-push--pull">File push &amp; Pull</h3>
<h4 id="push">PUSH</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo hellow world &gt; myfile
lxc file push myfile myvm/root/
lxc exec mmyvm bash
ls
</code></pre></div></div>
<h4 id="pull">PULL</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc file pull myvm/root/myfile .
ls
</code></pre></div></div>
<h3 id="snapshot-file--restored">Snapshot file &amp; restored</h3>
<h4 id="membuat-5-folder-untuk-test-backup--restored">Membuat 5 folder untuk test backup &amp; restored</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc exec namacontainer bash
for i in $(seq 5); do mkdir $i; done
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ubuntu@server:~$ lxc exec mykonte bash 
root@konteubuntu:~# for i in $(seq 5); do mkdir $i; done
root@konteubuntu:~# ls
1  2  3  4  5
</code></pre></div></div>
<p>Lakukan snapshot</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc snapshot mykonte snap1
lxc list
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ubuntu@server:~$ lxc snapshot mykonte snap1
ubuntu@server:~$ lxc list
+----------+---------+-----------------------+---------------------------------------------+------------+-----------+
|   NAME   |  STATE  |         IPV4          |                    IPV6                     |    TYPE    | SNAPSHOTS |
+----------+---------+-----------------------+---------------------------------------------+------------+-----------+
| mykonte  | RUNNING | 10.135.190.237 (eth0) | fd42:5b2:d003:1fd4:216:3eff:fe84:394 (eth0) | PERSISTENT | 1         |
+----------+---------+-----------------------+---------------------------------------------+------------+-----------+
| mykonte2 | RUNNING | 10.135.190.201 (eth0) | fd42:5b2:d003:1fd4:216:3eff:fe4f:2ba (eth0) | PERSISTENT | 0         |
+----------+---------+-----------------------+---------------------------------------------+------------+-----------+
</code></pre></div></div>
<blockquote>
  <p>Dan disitu terlihat SNAPSHOTS tersedia 1, sekarang kita test dengan menghapus file yang ada di container â€˜mykonteâ€™ lalu me restore nya.</p>
  <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ubuntu@server:~$ lxc exec mykonte bash
root@konteubuntu:~# ls
1  2  3  4  5
root@konteubuntu:~# rm -rf *
</code></pre></div>  </div>
</blockquote>

<h3 id="restored-maka-file-yang-di-hapus-tadi-akan-kembali">Restored maka file yang di hapus tadi akan kembali</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc restore mykonte snap1
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ubuntu@server:~$ lxc restore mykonte snap1
ubuntu@server:~$ lxc exec mykonte bash
root@konteubuntu:~# ls
1  2  3  4  5
</code></pre></div></div>

<p><strong>Referensi</strong></p>
<ul>
  <li><a href="https://lxd.readthedocs.io/en/stable-3.0/containers/">https://lxd.readthedocs.io/en/stable-3.0/containers/</a></li>
  <li><a href="https://linuxcontainers.org/lxd/introduction/">https://linuxcontainers.org/lxd/introduction/</a></li>
</ul>

<h1 id="happy--enjoy-ngoprek-">Happy,  Enjoy Ngoprek ~</h1>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#jekyll" class="page__taxonomy-item" rel="tag">Jekyll</a><span class="sep">, </span>
    
      <a href="/tags/#update" class="page__taxonomy-item" rel="tag">update</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#cloud" class="page__taxonomy-item" rel="tag">cloud</a><span class="sep">, </span>
    
      <a href="/categories/#container" class="page__taxonomy-item" rel="tag">container</a><span class="sep">, </span>
    
      <a href="/categories/#lxc" class="page__taxonomy-item" rel="tag">lxc</a><span class="sep">, </span>
    
      <a href="/categories/#ngoprek" class="page__taxonomy-item" rel="tag">ngoprek</a><span class="sep">, </span>
    
      <a href="/categories/#server" class="page__taxonomy-item" rel="tag">server</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2020-02-19T00:00:00+07:00">February 19, 2020</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=%5BLXC+Containers%5D+Play+with+LXD+Container+Hypervisor%20http%3A%2F%2F0.0.0.0%3A4000%2Fngoprek%2Fserver%2Fcloud%2Flxc%2Fcontainer%2Flxd-containers-hypervisor%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2F0.0.0.0%3A4000%2Fngoprek%2Fserver%2Fcloud%2Flxc%2Fcontainer%2Flxd-containers-hypervisor%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2F0.0.0.0%3A4000%2Fngoprek%2Fserver%2Fcloud%2Flxc%2Fcontainer%2Flxd-containers-hypervisor%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/ngoprek/server/cloud/lxc/container/lxc-containers/" class="pagination--pager" title="[LXC Containers] Installation lab at Ubuntu
">Previous</a>
    
    
      <a href="/ngoprek/server/cloud/kubernetes/container/kubernetes-setup-lab-kubernetes-jalan-ninjaku/" class="pagination--pager" title="[Kubernetes The Hard Way] Setup Lab Kubernetes Jalan Ninjaku
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/500x300.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ngoprek/server/cloud/security/Integrate-CEPH-in-Kolla-OPENSTACK/" rel="permalink">[Openstack] Integrate CEPH in Kolla OPENSTACK
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…
Integrate CEPH in Kolla OPENSTACK

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/500x300.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ngoprek/server/cloud/security/Honeypot-kippo/" rel="permalink">[Security] Deployment Kippo Honeypot On Linux Ubuntu
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…
Deployment Kippo Honeypot On Linux Ubuntu

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/500x300.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ngoprek/server/cloud/kubernetes/container/kubernetes-part9/" rel="permalink">[Kubernetes The Hard Way] Deploying the DNS Cluster Add-on - FinalPart 9
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…
Deploying the DNS Cluster Add-on (Kubernetes The Hardway)

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/500x300.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ngoprek/server/cloud/kubernetes/container/kubernetes-part8/" rel="permalink">[Kubernetes The Hard Way] POD Network Routes - Part 8
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…
POD Network Routes (Kubernetes The Hardway)

</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/ammarun" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/ammarun11" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://instagram.com/ammarun" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 My Personal Ngoprek Problems >_. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "http://0.0.0.0:4000/ngoprek/server/cloud/lxc/container/lxd-containers-hypervisor/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/ngoprek/server/cloud/lxc/container/lxd-containers-hypervisor"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://masalahngoprek.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  




<script type="text/javascript" async
	src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML">
</script>

<script type="text/x-mathjax-config">
   MathJax.Hub.Config({
     extensions: ["tex2jax.js"],
     jax: ["input/TeX", "output/HTML-CSS"],
     tex2jax: {
       inlineMath: [ ['$','$'], ["\\(","\\)"] ],
       displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
       processEscapes: true
     },
     "HTML-CSS": { availableFonts: ["TeX"] }
   });
</script>


  </body>
</html>
